---
title: "Mini Project Academic Performance Analysis"
author: "Deni Permana - Diaz Fahreza Akbar"
date: "2024-11-24"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# **Tahapan Exploratory Data Analysis (EDA)**

## 0. Import Library dan Import Dataset

### Import Library
Memuat paket yang diperlukan

```{r}
if (!requireNamespace("readr")) install.packages("readr")
if (!requireNamespace("dplyr")) install.packages("dplyr")
if (!requireNamespace("ggplot2")) install.packages("ggplot2")
if (!requireNamespace("gridExtra")) install.packages("gridExtra")
if (!requireNamespace("reshape2")) install.packages("reshape2")

library(readr)  # Untuk membaca data dengan cepat dari berbagai format seperti CSV
library(dplyr)  # Untuk manipulasi data dengan sintaks yang bersih dan intuitif

library(ggplot2)  # Paket grafis yang powerful untuk membuat visualisasi data
library(gridExtra)  # Untuk menampilkan beberapa plot dalam satu tampilan

library(reshape2)  # Memudahkan mengubah data antara format lebar dan panjang
```

### Import Dataset
Membaca dataset dari file CSV ke dalam R.

```{r}
# 1. Datset Student Mat
student_mat_data <- read_delim("resources/dataset/student-mat.csv", 
    delim = ";", escape_double = FALSE, trim_ws = TRUE)

# 2. Dataset Student Por
student_por_data <- read_delim("resources/dataset/student-por.csv", 
    delim = ";", escape_double = FALSE, trim_ws = TRUE)

```

## 1. Data Understanding

### Tujuan:

<!-- Memahami konteks dan karakteristik dataset. -->

### Langkah-langkah: 

#### Deskripsi Dataset: 

<!-- Menampilkan dimensi dataset dan preview beberapa baris pertama untuk memberikan gambaran awal. -->

##### Menghitung jumlah baris dan kolom

```{r}
cat(dim(student_mat_data), "\n")  # Menampilkan dimensi dataset mat
```

```{r}
cat(dim(student_por_data), "\n")  # Menampilkan dimensi dataset por
```

##### Tampilkan beberapa baris pertama dari masing-masing dataset

```{r}
print(head(student_mat_data, 5))  # Menampilkan 5 baris pertama dataset mat
```

```{r}
print(head(student_por_data, 5))  # Menampilkan 5 baris pertama dataset por
```

##### Analisis Struktur Data
Menggunakan str() untuk melihat struktur dan tipe data dari setiap kolom.

```{r}
str(student_mat_data)  # Menampilkan struktur dataset mat
```

```{r}
str(student_por_data)  # Menampilkan struktur dataset por
```

#### Identifikasi Variabel: 
Menampilkan nama variabel yang terdapat dalam masing-masing dataset.
<!-- Tentukan variabel yang relevan untuk analisis. Misalnya, variabel yang berkaitan dengan nilai akademis (G1, G2, G3), waktu belajar, dan faktor sosial. -->

```{r}
print(names(student_mat_data))  # Menampilkan nama kolom dataset mat
```

```{r}
print(names(student_por_data))  # Menampilkan nama kolom dataset por
```

#### Analisis Missing Values:
Menghitung dan menampilkan jumlah nilai yang hilang dalam setiap kolom.
<!-- Evaluasi apakah ada nilai yang hilang dalam dataset dan bagaimana cara menanganinya. -->

```{r}
print(colSums(is.na(student_mat_data)))  # Menampilkan jumlah missing values per kolom dataset mat
```

```{r}
print(colSums(is.na(student_por_data)))  # Menampilkan jumlah missing values per kolom dataset por
```

## 2. Exploratory Data Analysis Awal

### Tujuan:

<!-- Melihat data secara umum dan mendapatkan insight awal. -->

### Langkah-langkah:

#### Statistik Deskriptif: 

<!-- Gunakan fungsi summary() untuk melihat ringkasan statistik dari variabel numerik. -->

```{r}
print(summary(student_mat_data))  # Menampilkan ringkasan statistik dataset mat
```

```{r}
print(summary(student_por_data))  # Menampilkan ringkasan statistik datset por
```

#### Visualisasi Awal: 

##### Histogram:
Histogram untuk Nilai G1, G2, G3
<!-- Untuk melihat distribusi nilai G1, G2, dan G3. -->

```{r}
# G1
g1_hist <- ggplot(student_mat_data, aes(x = G1)) +
  geom_histogram(binwidth = 1, fill = "blue", color = "black", alpha = 0.7) +
  labs(title = "Distribusi Nilai G1", x = "Nilai G1", y = "Frekuensi")

# G2
g2_hist <- ggplot(student_mat_data, aes(x = G2)) +
  geom_histogram(binwidth = 1, fill = "green", color = "black", alpha = 0.7) +
  labs(title = "Distribusi Nilai G2", x = "Nilai G2", y = "Frekuensi")

# G3
g3_hist <- ggplot(student_mat_data, aes(x = G3)) +
  geom_histogram(binwidth = 1, fill = "red", color = "black", alpha = 0.7) +
  labs(title = "Distribusi Nilai G3", x = "Nilai G3", y = "Frekuensi")
```

```{r}
# Tampilkan histogram dalam satu tampilan
grid.arrange(g1_hist, g2_hist, g3_hist, ncol = 3)
```
Histogram menunjukkan distribusi nilai G1, G2, dan G3. Dari histogram ini, kita dapat melihat bahwa sebagian besar siswa memiliki nilai di kisaran menengah, dengan beberapa siswa yang memiliki nilai sangat tinggi atau sangat rendah.

##### Boxplot:

<!-- Untuk menganalisis outlier pada nilai akademis berdasarkan variabel lain seperti jenis kelamin atau waktu belajar. -->

```{r}
# Boxplot untuk Nilai G3 Berdasarkan Jenis Kelamin
boxplot_gender <- ggplot(student_mat_data, aes(x = sex, y = G3, fill = factor(sex))) +
  geom_boxplot() +
  labs(title = "Boxplot Nilai G3 Berdasarkan Jenis Kelamin", 
       x = "Jenis Kelamin", y = "Nilai G3") +
  scale_x_discrete(labels = c("0" = "Female", "1" = "Male")) +
  theme(legend.position = "none")

print(boxplot_gender)
```
Boxplot ini menunjukkan bahwa tidak ada perbedaan signifikan antara nilai G3 siswa laki-laki dan perempuan. Kedua kelompok memiliki distribusi nilai yang serupa.

```{r}
# Boxplot untuk Nilai G3 Berdasarkan Waktu Belajar
boxplot_studytime <- ggplot(student_mat_data, aes(x = factor(studytime), y = G3, fill = factor(studytime))) +
  geom_boxplot() +
  labs(title = "Boxplot Nilai G3 Berdasarkan Waktu Belajar", 
       x = "Waktu Belajar", y = "Nilai G3") +
  theme(legend.position = "none")

print(boxplot_studytime)
```
Boxplot ini menunjukkan bahwa siswa yang menghabiskan lebih banyak waktu untuk belajar cenderung memiliki nilai G3 yang lebih tinggi. Ini menunjukkan adanya hubungan positif antara waktu belajar dan nilai akhir.

```{r}
# Analisis Outlier menggunakan Boxplot
outliers <- boxplot(student_mat_data$G3, plot = FALSE)$out
print(outliers)  # Menampilkan nilai outlier
```

## 3. Visualisasi Data

### Tujuan: 

Membuat visualisasi yang menarik untuk menceritakan data.

### Langkah-langkah:

#### Hubungan antar Variabel:

##### Scatter Plot:

<!-- Untuk menggambarkan hubungan antara jumlah waktu belajar dan nilai akhir (G3). -->

```{r}
# Scatter Plot: Hubungan antara Waktu Belajar dan Nilai G3
scatter_studytime_g3 <- ggplot(student_mat_data, aes(x = studytime, y = G3, color = factor(sex))) +
  geom_point(alpha = 0.6) +
  labs(title = "Hubungan antara Waktu Belajar dan Nilai G3",
       x = "Waktu Belajar",
       y = "Nilai G3",
       color = "Jenis Kelamin") +
  scale_color_manual(values = c("blue", "orange"), labels = c("Female", "Male")) +
  theme_minimal()

print(scatter_studytime_g3)
```
Scatter plot ini memperkuat temuan dari boxplot sebelumnya, menunjukkan bahwa ada tren positif antara waktu belajar dan nilai G3. Siswa yang menghabiskan lebih banyak waktu untuk belajar cenderung mendapatkan nilai yang lebih baik.

##### Bar Plot:

<!-- Untuk menganalisis perbandingan nilai berdasarkan jenis kelamin atau status sosial. -->

```{r}
# Bar Plot: Rata-rata Nilai G3 Berdasarkan Jenis Kelamin
avg_g3_gender <- student_mat_data %>%
  group_by(sex) %>%
  summarise(mean_G3 = mean(G3, na.rm = TRUE))

barplot_gender <- ggplot(avg_g3_gender, aes(x = factor(sex), y = mean_G3, fill = factor(sex))) +
  geom_bar(stat = "identity", alpha = 0.7) +
  labs(title = "Rata-rata Nilai G3 Berdasarkan Jenis Kelamin",
       x = "Jenis Kelamin",
       y = "Rata-rata Nilai G3") +
  scale_x_discrete(labels = c("0" = "Female", "1" = "Male")) +
  theme_minimal() +
  theme(legend.position = "none")

print(barplot_gender)
```
Bar plot ini menunjukkan bahwa rata-rata nilai G3 untuk siswa laki-laki dan perempuan hampir sama, mengindikasikan bahwa jenis kelamin tidak memiliki pengaruh signifikan terhadap nilai akhir.

#### Heatmap/Korelasi:

<!-- Untuk melihat hubungan antar variabel numerik dan mengidentifikasi pola. -->

```{r}
# Heatmap: Korelasi antar Variabel Numerik
correlation_matrix <- cor(student_mat_data %>% select(G1, G2, G3, failures, studytime, absences), use = "complete.obs")

## Mengubah matriks korelasi menjadi format yang bisa digunakan untuk ggplot
correlation_melted <- melt(correlation_matrix)

heatmap_plot <- ggplot(correlation_melted, aes(Var1, Var2, fill = value)) +
  geom_tile() +
  scale_fill_gradient2(low = "blue", high = "red", mid = "white", 
                       midpoint = 0, limit = c(-1, 1), space = "Lab", 
                       name="Korelasi") +
  labs(title = "Heatmap Korelasi Antara Variabel", x = "", y = "") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

print(heatmap_plot)
```
Heatmap ini menunjukkan korelasi antara variabel-variabel numerik dalam dataset. Misalnya, terdapat korelasi positif yang kuat antara nilai G1, G2, dan G3, yang menunjukkan bahwa siswa yang mendapatkan nilai baik di awal cenderung mempertahankan performa mereka.

#### Pie Chart:

<!-- Untuk proporsi kategori dalam variabel seperti jenis kelamin atau status dukungan keluarga. -->

```{r}
# Pie Chart: Proporsi Dukungan Keluarga
family_support <- student_mat_data %>%
  group_by(famsup) %>%
  summarise(count = n())

pie_chart <- ggplot(family_support, aes(x = "", y = count, fill = factor(famsup))) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y") +
  labs(title = "Proporsi Dukungan Keluarga",
       fill = "Dukungan Keluarga") +
  scale_fill_manual(values = c("lightblue", "lightgreen"), labels = c("Tidak", "Ya")) +
  theme_void()

print(pie_chart)
```
Pie chart ini menunjukkan bahwa sebagian besar siswa menerima dukungan keluarga. Dukungan keluarga dapat menjadi faktor penting dalam keberhasilan akademik siswa.


## 4. Analisis Data

### Tujuan:

Memberikan analisis dan interpretasi dari visualisasi yang telah dibuat.

### Langkah-langkah:

#### Analisis Naratif:

Tulis analisis untuk setiap visualisasi. Fokus pada pertanyaan seperti:

-   Apa yang terlihat dalam visualisasi?

-   Apa saja pola atau tren yang teramati?

-   Apa implikasi dari hasil tersebut?

#### Insight Kritis:

Berikan poin pandangan yang menunjukkan bagaimana hasil analisis dapat digunakan untuk mengambil keputusan atau memberikan rekomendasi.

## 5. Kesimpulan dan Rekomendasi

### Tujuan:

Mengakhiri analisis dengan ringkasan yang jelas.

### Langkah-langkah:

### Kesimpulan Utama:

- Gender: Tidak ada perbedaan signifikan dalam nilai berdasarkan gender.
- Waktu Belajar: Waktu belajar yang lebih banyak berkorelasi dengan nilai yang lebih tinggi.
- Dukungan Keluarga: Sebagian besar siswa menerima dukungan keluarga, yang penting untuk keberhasilan akademik.
- Korelasi Nilai: Nilai awal yang baik berkorelasi dengan nilai akhir yang baik.

#### Rekomendasi:

- Intervensi Pendidikan: Fokus pada siswa yang memiliki nilai awal rendah untuk memberikan dukungan tambahan.
- Dukungan Keluarga: Mendorong partisipasi aktif orang tua dalam pendidikan anak mereka.
- Alokasi Waktu Belajar: Membantu siswa mengembangkan strategi belajar yang efektif dan manajemen waktu.
- Keadilan Gender: Terus memantau dan memastikan bahwa tidak ada bias gender dalam evaluasi dan pendidikan.
